<!DOCTYPE html>
<html lang="en-US" dir="auto" class="no-js" color-mode="light" prefix="og: https://ogp.me/ns/website#">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>A Textual Trek - Ludic Historian</title>
  <meta name="description" content="A Game Historian's View of Ludic Ambient Heuristics">
  <meta name="author" content="Jeff Nyman">
  <meta property="og:site_name" content="Ludic Historian">
  <meta property="og:title" content="Lucid Historian">
  <meta property="og:type" content="website">
  <meta property="og:locale" content="en_US">
  <meta property="og:image" content="https://ludichistorian.com/assets/site/lh-black-260x260.png">
  <meta property="og:image:alt" content="Ludic Historian">
  <meta property="og:image:width" content="260">
  <meta property="og:image:height" content="260">
  <meta property="og:url" content="https://ludichistorian.com/">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:dnt" content="on">
  <meta name="twitter:site" content="@jeff_nyman">
  <meta name="twitter:creator" content="@jeff_nyman">
  <meta name="twitter:image" content="https://ludichistorian.com/assets/site/screenshot.png">
  <meta property="twitter:title" content="Ludic Historian">
  <meta property="twitter:description" content="A Game Historian's View of Ludic Ambient Heuristics">
  <meta name="apple-mobile-web-app-title" content="Ludic Historian">
  <meta name="application-name" content="Ludic Historian">
  <meta name="msapplication-TileColor" content="#da532c">
  <meta name="msapplication-TileImage" content="../assets/site/mstile-144x144.png">
  <meta name="theme-color" content="#e6e6e6" media="(prefers-color-scheme: light)">
  <meta name="theme-color" content="#262626" media="(prefers-color-scheme: dark)">
  <link rel="apple-touch-icon" sizes="180x180" href="../assets/site/apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="16x16" href="../assets/site/favicon-16x16.png">
  <link rel="icon" type="image/png" sizes="32x32" href="../assets/site/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="192x192" href="../assets/site/android-chrome-192x192.png">
  <link rel="icon" type="image/svg+xml" href="../assets/site/favicon.svg">
  <link rel="mask-icon" href="../assets/site/safari-pinned-tab.svg" color="#5bbad5">
  <link rel="canonical" href="https://ludichistorian.com/">
  <link rel="manifest" href="../site.webmanifest">
  <link rel="stylesheet" href="../css/site.css?v=1.0">
  <script type="module">
    document.documentElement.classList.replace("no-js", "js");
  </script>
  <script src="../assets/js/color-mode.js"></script>
</head>
<body class="color-mode">
  <a href="#main" class="skip-to-main-content-link">Skip to main content</a>

  <svg style="display: none;" xmlns="http://www.w3.org/2000/svg">
    <symbol viewBox="0 0 24 24" id="moon">
      <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
    </symbol>
    <symbol viewBox="0 0 24 24" id="sun">
      <circle cx="12" cy="12" r="5"></circle>
      <line x1="12" y1="1" x2="12" y2="3"></line>
      <line x1="12" y1="21" x2="12" y2="23"></line>
      <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
      <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
      <line x1="1" y1="12" x2="3" y2="12"></line>
      <line x1="21" y1="12" x2="23" y2="12"></line>
      <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
      <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
    </symbol>
  </svg>

  <div class="sidemenu">
    <div class="title">MENU</div>
    <ul class="nav">
      <li><a href="#">Home</a></li>
      <li><a href="#">About</a></li>
      <li><a href="#">Work</a></li>
      <li><a href="#">Resources</a></li>
      <li><a href="#">Contact</a></li>
    </ul>
  </div>

  <header class="article-header">
    <div class="header-top">
      <div class="container">
        <div class="d-flex flex-column flex-row@s align-items-center justify-content-between text-center">
          <div>A Game Historian's View of Ludic Ambient Heuristics</div>
          <div>
            <button class="color-mode-btn light--hidden">
              <svg><use href="#sun"></use></svg>
            </button>
            <button class="color-mode-btn dark--hidden">
              <svg><use href="#moon"></use></svg>
            </button>
          </div>
          <div>
            <a class="nostyle" href="mailto:jeffnyman@ludichistorian.com">jeffnyman@ludichistorian.com</a> | <a class="nostyle" href="">Feedback</a>
          </div>
        </div>
      </div>
    </div>

    <div class="header-bottom">
      <div class="container">
        <div class="d-flex justify-content-between">
          <a class="nostyle" href="../index.html">
            <img src="../assets/site/lh-header-logo-76x76.png" alt="LH Logo">
          </a>
          <div class="d-flex">
            <ul class="menu d-flex flex-column flex-row@m align-items-center justify-content-between">
              <li><a href="">ABOUT</a></li>
              <li><a href="">WHO AM I</a></li>
              <li><a href="">OTHER SITES</a></li>
            </ul>
            <button class="toggle-menu" aria-label="Toggle menu">
              <svg aria-hidden="true" width="30" height="30" viewBox="0 0 24 24">
                <path d="M4 22h-4v-4h4v4zm0-12h-4v4h4v-4zm0-8h-4v4h4v-4zm3 0v4h17v-4h-17zm0 12h17v-4h-17v4zm0 8h17v-4h-17v4z">
              </svg>
            </button>
          </div>
        </div>
      </div>
    </div>
  </header>

  <main id="main">
    <article>
      <h1>A Textual Trek</h1>

      <hr>

      <section>
        <p class="nostyle">
          In other articles, I've looked at games like ROCKET and Lunar Lander. Those games used spaceships in a realistic context. This article will look at a game from roughly the same time period as those simulations but that used spaceships in an entirely fictional context. That fictional context actually pre-dated the Moon landing itself.
        </p>
      </section>

      <section>
        <h2>The Context</h2>

        <p>
          The original <em>Star Trek</em> television series aired on NBC from 8 September 1966 to 3 June 1969. When it was canceled, it immediately went into syndication.
        </p>

        <img class="framed" src="../assets/images/startrek/star-trek-show.png" title="Star Trek crew. Top row: Scotty, Checkov, Uhura, Sulu. Bottom row: McCoy, Chapel, Kirk, Spock" alt="Image of Star Trek crew from the 1966 television series">

        <p>
          Given the popularity of the show, it was inevitable that games based on the series would be created. This happened fairly early on. In fact, the earliest such game I'm aware of, albeit a board game, was created in 1967 when the show was still on the air. That game was simply called <em>Star Trek Game</em> and was made by Ideal Toys.
        </p>

        <img class="framed" src="../assets/images/startrek/star-trek-67.jpg" title="Star Trek Game board game" alt="Image of box for Star Trek board game from 1967">
        </p>

        <p>
          However, my interest here is not on the first known <em>board</em> game for <em>Star Trek</em> but, instead, the first known <em>computer</em> game. In terms of what history has left us, the very earliest incarnation in a computer context was, quite simply, called <em>Star Trek</em> and dates from 1971. Actually, there are two such versions to be aware of:
        </p>

        <ul>
          <li><em>Star Trek</em> by Mike Mayfield</li>
          <li><em>Star Trek</em> by Don Daglow</li>
        </ul>

        <p>
          I'm going to be focusing on Mike Mayfield's version here as it seems to be the earlier of the two, with Daglow's being from 1972. This particular version of the game became very widely played early on, eventually reaching the microcomputer era of the late 1970s, with a version capable of running on just about any machine that could run a BASIC variant.
        </p>
          
        <p>
          Not only was the game widely distributed but type-in listings of the game were very prevalent, which I'll attempt to show here. Type-in listings during this time period encouraged exploration of the code and the creation of variants.
        </p>

        <p>
          By contrast, Daglow's version appears to have been solely for the DEC PDP-10 and was distributed through the <a href="https://en.wikipedia.org/wiki/DECUS">DEC User's Society's (DECUS)</a> which promoted the exchange of user-developed software, largely via magnetic tape. DECUSCOPE was the publication of DECUS that contained work like Daglow's. In <a href="https://www.gamedeveloper.com/pc/column-playing-catch-up-stormfront-studios-don-daglow-">a "Playing Catch-Up" interview with Daglow</a>, he says:
        </p>

        <blockquote>
          The Mike Mayfield Star Trek sector-based game, which is by far the best known mainframe computer game of the 1970s was already on our system in 1971.
        </blockquote>

        <p>
          People sometimes refer to the Mayfield game as "Star Trek, the text game" and the Daglow version as "Star Trek, the script game" and the reason for that is provided by Daglow:
        </p>

        <blockquote>
          There were sample games that spoke "in character" when they printed text for the character to read. For a kid who was majoring in playwriting, combining the two ideas in a Star Trek script game came very naturally.
        </blockquote>

        <p>
          The mechanics of the game were such that dialogue of characters on the <em>Enterprise</em> was used to describe the events of a battle with an enemy spaceship. In Daglow's own words, the game was really a board strategy game that was executed in the context of a computer.
        </p>
      </section>

      <section>
        <h2>The Early History</h2>

        <p>
          First, let's consider the context of how a lot of people would have likely come across Mayfield's version of the game. At one point, this most likely would have been in a form called <a href="../assets/docs/startrek/Star-Trek-101-BASIC-Computer-Games-Mar75.pdf" data-size="670 KB">"SPACWR" that was published in the March 1975 book <em>101 BASIC Computer Games</em></a>. Notwithstanding the intro text that says the program is "This program is an incredibly complete version of spacewar", this should not be confused with the game <em>Spacewar!</em>, which was written by Steve Russell back in 1962.
        </p>

        <p>
          The listing for the program indicates that the original version was written by "Mike Mayfield, Centerline Engineering." So let's use that as our starting point. We'll have to first work backwards from that source. Then we'll come back to that source and work forwards. I've found that this approach is perhaps one of the easier ways to digest the history of this particular game.
        </p>

        <p>
          Regarding the initial implementation of <em>Star Trek</em>, there is a <a href="https://gamesoffame.wordpress.com/star-trek/">Games of Fame article by Maury Markowitz</a> well worth considering. Apparently, in December of 2000, Mike Mayfield &mdash; yep, the author of the game! &mdash; sent information to Maury to correct some history that had been making the rounds.
        </p>

        <blockquote>
          Back in 1971 I was a senior in high school. My school didn't have any computers, but I had managed to “use” (read “steal”) an account on a Sigma 7 at University of California, Irvine. I was trying to teach myself BASIC from a book. At the time there was a program that ran on a vector graphics terminal on the Sigma 7 that was a simple “shoot-em-up” space war game. I wanted to make a game like that, but I only had access to an ASR-33 Teletype non-video terminal.
          <span>Mike Mayfield</span>
        </blockquote>

        <p>
          But wait a second. If Mike Mayfield at the time was a “senior in high school,” who was this Centerline Engineering he was working for?
        </p>

        <blockquote>
          Centerline Engineering and Custom Data were actually just figments of my imagination. They were possible names for a company I wanted to start, but never did. I was just an 18 year old kid on a stolen computer account driving to UC Irvine on my Sears motorcycle.
          <span>Mike Mayfield</span>
        </blockquote>

        <p>
          Given the nature of the device he was programming on, Mike's game was interacted with by feeding punched paper tape into the SDS (Scientific Data Systems) Sigma 7 on a ten character-per-second teletype terminal. This is the ASR-33 ("Automatic Send and Receive") that he's referring to, which was an electromechanical teleprinter.
        </p>
      </section>

      <section>
        <h3>The Cultural Sigma 7</h3>

        <p>
          As a bit of a side note, the Sigma 7 actually made it's appearance in popular media at the time. For example, it appeared in a 1966 episode of <em>The Monkees</em> (Season 1, Episode 3 called “Monkee vs. Machine”). In this episode a toy company uses a Sigma 7 to design their toys.
        </p>

        <img class="framed" src="../assets/images/startrek/sigma-7-monkees.jpg" title="Sigma 7 on The Monkees" alt="Sigma 7 being shown on an episode of The Monkees in 1966">

        <p>
          The Sigma 7 also makes an appearance in a 1966 episode of <em>I Dream of Jeannie</em> (Season 2, Episode 10 called “The Girl Who Never Had a Birthday”). In this episode, Roger uses “Eric”, in actuality a Sigma 7, to work out Jeannie's birthday using a list of her personality traits combined with a book on astrology.
        </p>

        <img class="framed" src="../assets/images/startrek/sigma-7-dream.jpg" title="Sigma 7 on I Dream of Jeannie" alt="Sigma 7 being shown on an episode of I Dream of Jeannie in 1966">

        <p>
          Another example where the Sigma 7 appeared is 1971's TV movie <em>City Beneath the Sea</em>. Here a Sigma 7 processor, along with tape drives, appears outside Retired Admiral Michael Matthews' office as well as a programmer's console inside his office. The machine is used to calculate missile trajectories in the show.
        </p>

        <img class="framed" src="../assets/images/startrek/sigma-7-city.jpg" title="Sigma 7 in City Beneath the Sea" alt="Sigma 7 being shown in TV movie City Beneath the Sea in 1971">

        <p>
          Just to give you a more situated realistic view of the machine, here's a 1966 SDS Sigma 7, which is the machine that Mike would have been connecting into.
        </p>

        <figure class="preview">
          <img class="cover thumbnail" src="../assets/images/startrek/sds-sigma-7.jpg" alt="SDS Sigma 7">
          <figcaption></figcaption>
        </figure>

        <p>
          While that was the machine itself, Mike would have communicated with it via the Teletype ASR 33, which is shown here for reference.
        </p>

        <figure class="preview">
          <img class="cover thumbnail" src="../assets/images/startrek/asr-33-teletype.jpg" alt="Teletype ASR 33">
          <figcaption></figcaption>
        </figure>
      </section>

      <section>
        <h2>The 1971 Version</h2>

        <p>
          It seems Mike Mayfield and friends used <em>Star Trek</em> as an inspiration for their own game as it evolved.
        </p>

        <blockquote>
          A bunch of my other geek friends from high school and I spent a lot of hours brainstorming what we could do if we didn't have a video terminal. Since I was the only one in the group that had any knowledge of computers (little as it was), we ended up coming up with a lot of unimplementable ideas. One idea that did stick was the idea of printing a galactic map and a star map to give you some idea what to shoot at, and having phasors reduce power exponentially, like they would if they shot in all directions.
          <span>Mike Mayfield</span>
        </blockquote>

        <p>
          This iteration of the program was certainly constrained.
        </p>

        <blockquote>
          I didn't have any disk space allocation, so I had to punch a paper tape each day when I finished and load it back in again the next day. Working on a 10 character per second terminal forced me to keep the program small. Otherwise, I probably would have gone crazy adding feature after feature.
          <span>Mike Mayfield</span>
        </blockquote>

        <p>
          So the start of the history here is that two years after the cancellation of the <em>Star Trek</em> show, Mike Mayfield created a game based on the show from a more generic idea of having a space battle.
        </p>

        <p>
          It's worth noting here that this 1971 version of the source code is, so far as we know, entirely lost. But that 1971 implementation would make its way, largely intact, to a 1972 implementation.
        </p>
      </section>

      <section>
        <h2>The 1972 Version</h2>

        <p>
          Mayfield apparently got his hands on a Hewlett-Packard programmable calculator and, as he recounts it, he would go to the local HP sales office several times for help on programming the thing. Apparently Mayfield had mentioned his space combat/”Star Trek” program to them because in his account of events, they offered him the use of their local computer <em>if</em> he would port the game to their system. This local computer was an HP 2000C and ran BASIC in a time-share process.
        </p>

        <p>
          In November 1968, HP released the 2000A Timeshare System, later known as HP 2000/Access.
        </p>

        <figure class="preview">
          <img class="cover thumbnail" src="../assets/images/startrek/hp2000f.jpg" alt="HP 2000F, very similar to an HP 2000A">
          <figcaption></figcaption>
        </figure>

        <p>
          That's an image of an HP 2000F. Later models of the 2000 series, labeled B through F, used newer versions of the underlying CPU as they were introduced but were essentially the same in most respects.
        </p>

        <p>
          So Mike Mayfield had to write his program on this new machine with its specific BASIC variant.
        </p>

        <blockquote>
          Since their BASIC variant was so different from the BASIC on the Sigma 7 and the program had gotten pretty messy by then from all the changes, I ended up just doing a rewrite. The program was added to HP's public domain library, which is where Dave Ahl got it.
          <span>Mike Mayfield</span>
        </blockquote>

        <p>
          So that's the next bit of history here. In late 1972, Mike ported his game to HP Time-Shared BASIC on an HP 2000C. I'm not very clear on how and to what extent that particular variant circulated around but this version, very closely aligned to the 1971 version, eventually became more widely distributed in 1973.
        </p>
      </section>

      <section>
        <h2>The 1973 Version</h2>

        <p>
          I say “1973 version” here but, in one respect, what I'm talking about is the 1972 version as it was distributed in 1973.
        </p>

        <p>
          HP got access to the program Mike had rewritten and released it in their Contributed Software tape library catalog. This is what's available in the archive called <a href="http://bitsavers.trailing-edge.com/bits/HP/tapes/2000tsb/">HP_2000_Contributed_Library_Rev_1638</a>. Specifically in the Z905 directory, there is a version called <a href="../assets/source/startrek/STTR1.bas" target="_blank">STTR1</a>. You can also see an <a href="../assets/source/startrek/STTR1-Annotated.bas" target="_blank">annotated version of this BASIC STTR1 source</a>.
        </p>

        <p>
          So our historical route has given us the following variations:
        </p>

        <ul>
          <li>1971 &mdash; Sigma BASIC version</li>
          <li>1972 &mdash; HP BASIC version</li>
          <li>1973 &mdash; HP Library inclusion</li>
        </ul>
      </section>

      <section>
        <h2>Play the Original?</h2>

        <p>
          It's difficult to play the original incarnation of Mike Mayfield's game or, rather, the "original" even from 1973. The only way to do this in a way that's even appropriately retro would be to try to play it on an HP 2000 emulator. You can attempt to use <a href="http://simh.trailing-edge.com/">SIMH</a> for this. This program attempts to simulate several minicomputer variants.
        </p>

        <p>
          If you want to save yourself some pain, you might want to try to find already running simulators. Two known ones are the following:
        </p>

        <ul>
          <li>mickey.publicvm.com</li>
          <li>hp2000.brighton.ac.uk</li>
        </ul>

        <p>
          To do this, on your system of choice launch a terminal that has access to a telnet program. You'll need one that won't be confused by the HP simulators end-of-line characters, which get interpreted by some terminals as unicode. Then pick one of the above endpoints and telent into it:
        </p>

        <ul>
          <li><code>telnet hp2000.brighton.ac.uk</code></li>
          <li><code>telnet mickey.publicvm.com</code></li>
        </ul>

        <p>
          Once in the system, you'll need to get to a login prompt. You do that with the following keypresses one after the other:
        </p>

        <ul>
          <li><code>CTRL+m,CTRL+j</code></li>
        </ul>

        <p>
          Finally, enter the following one after the other:
        </p>

        <ul>
          <li><code>HELLO-T001,HP2000,1</code></li>
          <li><code>GROUPS</code></li>
          <li><code>EXECUTE-*STTR1</code></li>
        </ul>

        <p>
          That should work for you to get you playing. The game will ask if you want instructions and, if you do, make sure you answer the prompt as <code>YES</code>, full word, all capital letters.
        </p>

        <p>
          One thing to note is that this game was originally played on teletypes. So when you print out the instructions as above, it's likely that you won't actually see them because they simply scroll up too fast.
        </p>

        <p>
          Quitting is a little trickier. Once you're in game, you can use the command 7 and then command 2. Then enter a long string of characters at the prompt for using the calculator. Theoretically this causes a string overflow and breaks out of the program although I've found this doesn't always happen. But if it does happen for you, then you can just type the following:
        </p>

        <ul>
          <li><code>BYE</code></li>
        </ul>
      </section>

      <section>
        <h2>1973 Variants</h2>

        <p>
          According to Mayfield's account, it was apparently the 1973 version of <em>Star Trek</em> that a guy named David Ahl got his hands on. This is going to take us back to that <em>101 BASIC Computer Games</em> book we started with.
        </p>

        <p>
          David Ahl worked at Digital Equipment Corporation (DEC) in the education department and his main job was publishing a newsletter which often included type-in games. Ahl was apparently so impressed with <em>Star Trek</em> that he ported it to DEC BASIC and sent it out in a newsletter that DEC distributed. Now here's where we get a little source material confusion in terms of surviving historical artifacts.
        </p>

        <p>
          First I'll note that Pete Turnbull created a <a href="http://www.dunnington.info/public/startrek/">historical Star Trek game page</a>. However, I've found at least some questionable things on there and the provenance is often entirely unstated or just assumed for many of the artifacts. That being said, Turnbull lists one version as the following:
        </p>

        <ul>
          <li><a href="../assets/source/startrek/spacwr.bas" target="_blank">spacwr.bas</a> - DEC BASIC conversion of Mike Mayfield's STTR1, 1973</li>
        </ul>

        <p>
          This version is different than what's printed in <em>101 BASIC Computer Games</em> but there are a few source code lines in question that differ from the Mayfield version <em>and</em> that appear in the book, suggesting this might have been an early incarnation of what went in the book. I'll come back to all that when we dig into the code.
        </p>

        <p>
          Turnbull then lists another variant that he says is a DEC BASIC-PLUS version from David Ahl, and presumably from around the 1973 timeframe but, in fact, this appears to be an entirely different variant from the 1980s. This notion of inaccurate variants and the historical record is important so let's do a brief aside on this.
        </p>
      </section>

      <section>
        <h3>Historical Caution and Artifacts</h3>

        <p>
          Pete Turnbull lists the following variant on this page:
        </p>

        <ul>
          <li><a href="../assets/source/startrek/strtr1.bas" target="_blank">strtr1.bas</a> - DEC BASIC-PLUS, probably from David Ahl (instructions)</li>
          <li><a href="../assets/source/startrek/strtrk.bas" target="_blank">strtrk.bas</a> - DEC BASIC-PLUS, probably from David Ahl (the game)</li>
        </ul>

        <p>
          However, if you do a little digging you'll find this variant comes from the early 1980s. Specifically, looking through an archived boot disk called RL2 that hosts the RSTS/E v7.0 operating system, you'll find the following directory listing:
        </p>

        <pre><code>
          DIR
           Name .Ext    Size   Prot    Date       SY:[11,70]
          ACEY  .BAS       5   &lt; 60> 31-Oct-76
          TREK  .BAS      16   &lt; 60> 31-Oct-76
          TREK  .DOC       9   &lt; 60> 31-Oct-76
          ANIMAL.BAS       5   &lt; 60> 31-Oct-76
          STRTRK.BAS      27   &lt; 60> 31-Mar-81
          STRTR1.BAS       9   &lt; 60> 31-Mar-81
          ADVENT.DOC       4   &lt; 60> 20-Jul-85
          ADVENT.SAV      93   &lt;124> 20-Jul-85
          ADVENT.VAR      22   &lt; 60> 20-Jul-85
          ADVTXT.TXT     125   &lt; 60> 20-Jul-85
          SYSMAC.SML      42   &lt; 60> 13-Mar-77
          HELLO .MAC       1   &lt; 60> 13-Mar-77
          BOOT  .MAC      24   &lt; 60> 13-Mar-77
        </code></pre>

        <p>
          Ntoice the files "STRTRK.BAS" and "STRTR1.BAS"? Those are, at least, the filenames that Turnbull listed and they are dated to March of 1981. But are these actually the same game? Well, to do that you have to either access their source code or play them.
        </p>

        <p>
          The way I found to do this was to access an online <a href="https://skn.noip.me/pdp11/pdp11.html">PDP 11/70 emulator</a>. If you want to try to access this yourself, here are the steps I had to do in the web-based console. The bolded parts are what I typed in.
        </p>

        <ul>
          <li>Boot> <strong>boot rl2</strong></li>
          <li>Option: <strong>CTRL+J</strong></li>
          <li>Table suboption? <strong>EXIT</strong></li>
          <li>DD-MMM-YY? <strong>31-OCT-81</strong></li>
          <li>12:00 PM? <strong>9:32</strong></li>
          <li>Command File Name? <strong>CTRL+J</strong></li>
        </ul>

        <p>
          At this point you'll see a message about "Detaching . . ." and you'll be able to type again. Do the following:
        </p>

        <ul>
          <li><strong>I11,70</strong></li>
          <li>Password: <strong>PDP</strong></li>
        </ul>

        <p>
          This might give you a message about "Welcome to RSTS/E v7.0 time sharing" and a "Ready" prompt. Then you can type the following:
        </p>

        <ul>
          <li><strong>DIR</strong></li>
          <li><strong>RUN STRTRK</strong></li>
        </ul>

        <p>
          And with that "simple" bit of steps, you should be off to the races and able to play the game. The main thing to note is that the opening text &mdash; "AS COMMANDER OF THE UNITED STARSHIP ENTERPRISE" &mdash; matches the above mentioned source files provided by Turnbull but is different than any of the text provided by the Mayfield game or by Ahl's versions of it.
        </p>

        <p>
          Incidentally, in that directory listing I showed you, you might also notice the mention of "TREK.BAS" and "TREK.DOC". Those, too, are relevant because they are also listed by Turnbull on his archived list but also seem inaccurate on a few points. We'll jump back to that one as I continue this history.
        </p>

        <p>
          This aside is a cautionary tale of being a historian when there are many artifacts to deal with. You have to find corroborating evidence, particularly if the source files in question do not offer details such as date or authorship. I should also note that everthing I write here is a moment in time. By the time you read this, it's possible Pete updated his own site as he learns more about his sources.
        </p>
      </section>

      <section>
        <h2>More on 1973 Variants</h2>

        <p>
          Pete Turnbull mentions two other sources in his list:
        </p>

        <ul>
          <li><a href="../assets/source/startrek/trek.bas" target="_blank">TREK.BAS</a> - adapted for RSTS-11 BASIC, by Aron Insinga from 1973</li>
          <li><a href="../assets/source/startrek/trek.txt" target="_blank">TREK.DOC</a> - instructions for TREK.BAS</li>
        </ul>

        <p>
          You can follow the steps from the previous section and do the following to run that version of the game:
        </p>

        <ul>
          <li><strong>RUN TREK</strong></li>
        </ul>

        <p>
          If you do run that game and ask it for instructions, you will find the instructions are exactly that as listed in the above "TREK.DOC". This mentions a date of 20 July 1973 and an author of Aron K. Insinga as well as something called "Project Delta." Turnbull apparently received a communication from Aron about his version. According to Aron:
        </p>

        <blockquote>
          Back in the 1970s there was a computer center in Delaware that was used by the high schools in the state and was staffed by students. We had the 2nd RSTS-11 system that DEC sold. Kids were using the Project DELTA Teletype and DataPhone at their school to make long distance calls to a time-sharing system at the HP facility in Avondale, PA. They were using the system for hours to play this Star Trek game and the phone bill was a big problem. I was told that it would help a lot if I could get it to run on our RSTS-11 (PDP-11/20) system at Project DELTA.
        </blockquote>

        <p>
          However, the "TREK.BAS" file that is provided is definitely not from 1973 and doesn't seem to match the game. Notice, for example, in the source that "Romulans" are mentioned. Further, digging into the source itself you can see LOCATE and COLOR commands, among others, that were intended for use on interactive terminals with color support. That means the DEC VT240's at a minimum, which puts us in the 1980s. And that makes a great deal of sense because the source code also indicates a version “BY ENSIGN SOFTWARE” that is copyrighted as 1982.
        </p>

        <p>
          I do have what appears to be the actual version from Aron in <a href="../assets/source/startrek/trek-aron.bas" target="_blank">trek-aron.bas</a>. This was pulled from an RSTS-11 library index, the specific operating system apparently being an RSTS V4A-12, with the index itself being from the DECUS catalog.
        </p>

        <p>
          I'll note one more variant here that does seem to be from 1973, specifically 5 April 1973. This was a variant of the game, apparently written at the University of Texas, as a Taurus BASIC variant by Grady Hicks and Jim Korp. You can see the source of this in <a href="../assets/source/startrek/ut-trek.bas" target="_blank">ut-trek.bas</a>. Interestingly, this version mentions that the "GENERAL IDEA STOLEN FROM PENN. U."
        </p>

        <p>
          A side note to this version is that some guys named Dave Matuszek and Paul Reynolds, at the University of Texas-Austin, played the game and noted that the Hicks version they played threw a lot of long quotes from Marcus Aurelius at the player. I mention this because of some interesting detective work done by "Peter B" in his post <a href="http://tleaves.com/post/aurelius-star-trek/">The Game Detective: The 'Marcus Aurelius' Version of Star Trek</a>.
        </p>

        <p>
          The date of this latter version, April 1973, is interesting because we are now finally getting back to David Ahl's work and the publication of <em>101 BASIC Computer Games</em>. This book actually saw three printings: July 1973, April 1974, and March 1975. Apparently Ahl's update of Mayfield's 1972 version was in the earliest printing. Aron's version could have been based on that, therefore, while that from Hicks and Korp was not.
        </p>

        <p>
          This actually takes us to another variant, believe it or not. The context here for Ahl's book is that the first printing in 1973 had the programs written in PDP-11 RSTS BASIC. The programs from that book were ported to OS/8 BASIC by Kay Fisher. This was so that the programs could run on a PDP-8.
        </p>

        <ul>
          <li><a href="../assets/source/startrek/spacwr-os8.bas" target="_blank">spacwr-os8.bas</a> - game</li>
          <li><a href="../assets/source/startrek/spacwr-os8-in.bas" target="_blank">spacwr-os8-in.bas</a> - instructions</li>
        </ul>

        <p>
          Since this is most definitely a direct port, we still have the title of "spacwr." The listing in Ahl's book does say “SPACEWAR BASED ON STAR TREK.” The code listing itself, at least from the 1975 version, shows the following:
        </p>

        <pre><code>
          100 REM *** PROGRAM SIMULATER IV PROGRAM STARTREK
          110 REM *** WRITTEN BY MIKE MAYFIELD, CENTERLINE ENGINEERING
          120 REM *** DEBUGGING AND MINOR REVISIONS BY LEO LAVERDURE, IRA POTEL,
          130 REM *** MARY COLE, AND DAVE AHL OF DIGITAL
        </code></pre>

        <p>
          So it sounds like multiple people had a hand in changing the source code. That said, however, if you do a comparison of Mayfield's and the version published in the book, you'll find the differences are actually relatively trivial. All of Mayfield's algorithms, numbers, and the core text remain entirely identical. In fact, Mayfield's original line numbering is preserved throughout the version published in <em>101 BASIC Computer Games</em>.
        </p>
      </section>

      <section>
        <h2>Our Historical Lineage (So Far)</h2>

        <p>
          Our historical route has given us the following core variations:
        </p>

        <ul>
          <li>1971 (Mike Mayfield) — Sigma BASIC version; lost.</li>
          <li>1972 (Mike Mayfield) - HP BASIC version; STTR1.bas.</li>
          <li>1973 (David Ahl) - DEC BASIC version; spacwr.bas.</li>
          <li>1973 (David Ahl) — Published in 101 BASIC Computer Games.</li>
        </ul>

        <p>
          At this point, the game effectively entered the wider public domain. From there, early computer enthusiasts enhanced and rewrote the game for every flavor of minicomputer BASIC they could. (Keep in mind that in 1973, the first microcomputers had not really come about and proliferated yet.)
        </p>

        <p>
          As a bit of a side note, The People's Computer Company, a group I'll have much more to say about in other articles, published a book in 1975 called "What To Do When You Hit Return" and you can see some <a href="../assets/docs/startrek/Star-Trek-1975-What-to-Do.pdf" data-size="1 MB">information on <em>Star Trek</em> in the the book</a>.
        </p>

        <p>
          If you check out the document, notice the <code>GET - $STTR1</code> on the first page. That would clearly suggest the original title as produced by Mike Mayfield as opposed to other variants by Ahl or others. That said, no listing of the game is provided in that book so it's hard to tell exactly what's being referenced.
        </p>

        <p>
          With the above history understood, we can now jump into the game itself a little bit.
        </p>
      </section>

      <section>
        <h2>The Narrative</h2>

        <p>
          The narrative backdrop in the game is fairly simple, given the source material. You're ostensibly playing Captain James T. Kirk, captain of the <em>USS Enterprise</em>. Truth be told, none of the characters from the show are actually referenced at all in the game.
        </p>

        <p>
          Your mission is to destroy a certain number of enemy Klingon spaceships. Keep in mind: this is during the timeframe of The Original Series, when the Klingon Empire and the United Federation of Planets were usually in some form of Cold War. In this game, that Cold War apparently got hot.
        </p>

        <p>
          The narrative here is pretty simple and mostly plays out in the context of the gameplay. So let's look at that next and I'll intersperse some implementation details as we go.
        </p>
      </section>

      <section>
        <h2>The Gameplay</h2>

        <p>
          Let's take a look at how a given gameplay session starts and look at what you see.
        </p>

        <pre><code>
          YOU MUST DESTROY 18 KLINGONS IN 30 STARDATES WITH 2 STARBASES
          ---------------------------------
                                   &lt;*>
                    *                             STARDATE         3200
                            *           *         CONDITION        GREEN
                                                  QUADRANT         4,4
                *           *                     SECTOR           1,7
                                                  ENERGY           3000
                                                  PHOTON TORPEDOES 10
                                                  SHIELDS             0
          ---------------------------------
          COMMAND:?
        </code></pre>

        <p>
          The <code>&lt*></code> in the above output represents the Enterprise and any <code>*</code> represents a star. The status text on the right indicates that the <em>Enterprise</em> is in quadrant (4,4) and sector (1,7). So if I'm at (1,7) then it's 1 down and 7 over. For this grid, (1,1) would be at the top left and (8,8) would be at the bottom right.
        </p>
        
        <p>
          The gameplay loop consists of entering a command, in the form of a number, at the <code>COMMAND</code> prompt you are given for each turn. I'll cover a few of the commands as we go along here just so you can see how this worked.
        </p>

        <p>
          In Mayfield's game you control the USS Enterprise, moving through an 8&times;8 grid of galactic quadrants. Each such quadrant is itself divided into an 8&times;8 grid. Within each quadrant grid, the game populates the space in that grid with stars, Klingon ships, and starbases.
        </p>

        <p>
          The goal is to find enemy Klingon ships and then use your phasers and torpedos to take them out. You have to do this before time expires ("30 STARDATES" as given above) or your ship runs out of power. Starbases can refuel your ship and restock your torpedos but time must be spent finding them and docking to receive their benefits. And since there's only two in the above playthrough, that can be problematic.
        </p>

        <p>
          What you end up with, in terms of gameplay mechanics, is a focus on resource management. Arguably <em>ROCKET</em> was very much like that as well, with fuel being the resource. This same theme emerges in <em>The Sumerian Game</em> and <em>The Oregon Trail</em>.
        </p>
      </section>

      <section>
        <h3>Construct the Galaxy</h3>

        <p>
          The way galaxy generation works here is that the program iterates through each of the sixty-four quadrants and populates them based on probability. For example, how the game populates the Klingon enemies is shown in this code:
        </p>

        <pre><code>
          520  R1=RND(1)
          530  IF R1>.98 THEN 580
          540  IF R1>.95 THEN 610
          550  IF R1>.8 THEN 640
          560  K3=0
          570  GOTO 660
          580  K3=3
          590  K9=K9+3
          600  GOTO 660
          610  K3=2
          620  K9=K9+2
          630  GOTO 660
          640  K3=1
          650  K9=K9+
        </code></pre>

        <p>
          Basically, for any given quadrant, you have a 2% chance of getting three Klingon enemies, a 3% change of getting two enemies, and a 15% chance of getting one enemy. There's an 80% chance that no Klingons at all will be in the area.
        </p>

        <p>
          Similarly, here's how starbase placement is calculated:
        </p>

        <pre><code>
          660  R1=RND(1)
          670  IF R1>.96 THEN 700
          680  B3=0
          690  GOTO 720
          700  B3=1
          710  B9=B9+1
        </code></pre>

        <p>
          That's giving a 4% chance of one starbase and a whopping 96% chance of no starbase.
        </p>

        <p>
          In the game output, notice the bit of status text off to the right? That comes from this:
        </p>

        <pre><code>
          4540 IMAGE  "---------------------------------"
          4550 IMAGE  8(X,3A)
          4560 IMAGE  8(X,3A),8X,"STARDATE",8X,5D
          4570 IMAGE  8(X,3A),8X,"CONDITION",8X,6A
          4580 IMAGE  8(X,3A),8X,"QUADRANT",9X,D,",",D
          4590 IMAGE  8(X,3A),8X,"SECTOR",11X,D,",",D
          4600 IMAGE  8(X,3A),8X,"ENERGY",9X,6D
          4610 IMAGE  8(X,3A),8X,"PHOTON TORPEDOES",3D
          4620 IMAGE  8(X,3A),8X,"SHIELDS",8X,6D
        </code></pre>

        <p>
          Interestingly, these are not directly executable statements. Instead these are strings that can be referenced in PRINT commands. These were called “image specifiers.” The unquoted symbols get substituted with the values of the refrenced variables.
        </p>
      </section>

      <section>
        <h3>Doing Things in the Galaxy</h3>

        <p>
          Remember that the goal here is to find quadrants that contain Klingon ships and destroy them. The best way to start off is to use command <code>2</code>, which provides a “long range sensor scan.” This will show conditions in space for one quadrant on each “side” of the <em>Enterprise</em>, with your ship being in the middle of the scan.
        </p>

        <pre><code>
          COMMAND:?2
          LONG RANGE SENSOR SCAN FOR QUADRANT 4,4
          -----------------
          :   3 :106 :  7 :
          -----------------
          : 106 :  5 :107 :
          -----------------
          :   1 :  6 :107 :
          -----------------
        </code></pre>

        <p>
          The resulting table provides information on nine quadrants. The center quadrant is the one you're currently in. The readout there can be confusing, however. The scan is provided in the form XXX, where the digits, in order, refer to number of Klingon ships, number of starbases, and number of stars. So in our quadrant there are 0 Klingon ships, 0 starbases and 5 stars, hence just "5" although that could be thought of as "005".
        </p>

        <p>
          The "107" and "106" values indicate some Klingon ships around us.  Notice that there are no starbases in immediate range of us. Given that the game allocated us with only two such starbases at the start, that's not surprising. Clearly we have some areas we can go to in order to combat the Klingons.
        </p>

        <p>
          Now, while Kirk was always a bit of a risk-taker, he wasn't necessarily stupid. So we can raise the <em>Enterprise</em> shields using command <code>5</code>.
        </p>

        <pre><code>
          COMMAND:?5
          ENERGY AVAILABLE = 3000       NUMBER OF UNITS TO SHIELDS:?200
        </code></pre>

        <p>
          When you do this, the game asks you how much energy you want to provide for the shields out of the 3000 units you have available. It's really not clear at all what your ship can take and how damage impacts your shields. So you just have to sort of figure that out. Here I'm using 200.
        </p>

        <p>
          To actually see the status of your ship again, you need to run a “short range scan,” which is command <code>1</code>.
        </p>

        <pre><code>
          ---------------------------------
                                   &lt;*>
                    *                             STARDATE         3200
                            *           *         CONDITION        GREEN
                                                  QUADRANT         4,4
                *           *                     SECTOR           1,7
                                                  ENERGY           2800
                                                  PHOTON TORPEDOES 10
                                                  SHIELDS           200
          ---------------------------------
          COMMAND:?
        </code></pre>

        <p>
          Here I can see that my shields went from 0 to 200 and my energy is down correspondingly.
        </p>

        <p>
          Incidentally, HP BASIC strings were implemented as a one-dimensional array of bytes. The command <code>DIM S$ [n]</code> reserves <em>n</em> bytes for string <code>S$</code>. Throughout the original STTR1 code, much of the game's “graphical” representation is accomplished by injecting the symbols for the Enterprise ('&lt;*>'), stars ('*'), and Klingons ('+++') into large strings, exploiting HP BASIC's treatment of Strings as special cases of matrices.
        </p>

        <p>
          However, HP BASIC strings were limited to seventyt-w characters. For this reason, it seems like Mike Mayfield had to split the 192 (8 &times; 8 &times; 3) characters needed to represent the short range scan view across three string variables: <code>Q$</code>, <code>R$</code>, and <code>S$</code>. Mayfield then had to add code to cascade across the variables when trying to inspect a particular spot in a quadrant.
        </p>

        <pre><code>
          Strings   ---------------------------------
          Q$[01-24]:      *              &lt;*>
          Q$[25-48]:
          Q$[49-72]:
          R$[01-24]:                      *       *
          R$[25-48]:   *               *       *
          R$[49-72]:
          S$[01-25]:           *
          S$[01-48]:
                    ---------------------------------
          COMMAND:?
        </code></pre>

        <p>
          The code for some of how that works is:
        </p>

        <pre><code>
          270  DIM C$[6],D$[72],E$[24],A$[3],Q$[72],R$[72],S$[48]
          ...
          980  A$="&lt;*>"
          ...
          5510  REM ******  INSERTION IN STRING ARRAY FOR QUADRANT ******
          5520  S8=Z1*24+Z2*3-26 (Note: Z1 and Z2 are values between 1 and 8)
          5530  IF S8>72 THEN 5560
          5540  Q$[S8,S8+2]=A$
          5550  GOTO 5600
          5560  IF S8>144 THEN 5590
          5570  R$[S8-72,S8-70]=A$
          5580  GOTO 5600
          5590  S$[S8-144,S8-142]=A$
          5600  RETURN
        </code></pre>
      </section>

      <section>
        <h3>Navigating Around the Galaxy</h3>

        <p>
          Now we can head out for some conflict! Navigating in the game requires two parameters: the direction you want to go and the distance you want to travel. The idea of the “ship course” you set in the game is a circular numerical vector arrangement.
        </p>

        <pre><code>
           4  3  2
            \ ^ /
             \^/
          5 ------ 1
             /^\
            / ^ \
           6  7  8

           COURSE
        </code></pre>

        <p>
          The y-axis points downwards. Each column is about three characters wide but each row is only one character high. So this isn't really a faithful circular coordinate system. As you can see, the angle goes from 1.0 (inclusive) to 9.0 (exclusive). Distance is measured in “warp factor” units. One “warp factor” is the size of one quadrant, or rather equal to the length/height of a quadrant. So to move to an adjacent sector, you need to move a distance of 1/8 or 0.125.
        </p>

        <p>
          This gives us another chance to look at some code. The HP2000 version uses lots of arrays/matrices:
        </p>

        <pre><code>
          230  REM *****  PROGRAM STARTS HERE *****
          240  Z$="                                                                      "
          250  GOSUB 5460
          260  DIM G[8,8],C[9,2],K[3,3],N[3],Z[8,8]
          ...
          420  C[2,1]=C[3,1]=C[4,1]=C[4,2]=C[5,2]=C[6,2]=-1
          430  C[1,1]=C[3,2]=C[5,1]=C[7,2]=C[9,1]=0
          440  C[1,2]=C[2,2]=C[6,1]=C[7,1]=C[8,1]=C[8,2]=C[9,2]=1
          ...
          1885  C2=INT(C1)
          1890  X1=C[C2,1]+(C[C2+1,1]-C[C2,1])*(C1-C2)
          1900  X2=C[C2,2]+(C[C2+1,2]-C[C2,2])*(C1-C2)
          ...
          2700  H=(X/K3/FND(0))*(2*RND(1))
          2710  K[I,3]=K[I,3]-H
          2720  PRINT  USING 2730;H,K[I,1],K[I,2],K[I,3]
          2730  IMAGE  4D," UNIT HIT ON KLINGON AT SECTOR ",D,",",D,"   (",3D," LEFT)"
          ...
          3400  G[Q1,Q2]=K3*100+B3*10+S3
        </code></pre>

        <p>
          <code>G</code> in the above is an 8&times;8 matrix. This represents the Galaxy. Elements contain three-digit values to store the number of Klingons, starbases, and stars in each of the sixty-four quadrants.
        </p>

        <p>
          <code>C</code> is a 2&times;9 matrix. This provides a lookup table, of sorts, of &delta;row, &delta;col for a given course, where 1 &leq; course &lt; 9.
        </p>

        <p>
          <code>K</code> is a 3&times;3 matrix. This is used to store Klingon attributes; row, column, and hit-points remaining for up to three enemies found in the current quadrant.
        </p>

        <p>
          This code does point out something interesting as well. The line numbering in Mayfield's code is orderly, almost always increasing in units of 10. There are a few exceptions, however, and those can be interesting to consisder. For instance, from the code above, consider the portion of the code for converting a warp trajectory into the <em>Enterprise</em>'s new X,Y coordinates:
        </p>

        <pre><code>
          1870 X=S1
          1880 Y=S2
          1885 C2=INT(C1)
          1890 X1=C[C2,1]+(C[C2+1,1]-C[C2,1])*(C1-C2)
          1900 X2=C[C2,2]+(C[C2+1,2]-C[C2,2])*(C1-C2)
        </code></pre>

        <p>
          The anomalous line 1885 suggests a later refactor. Note that the new temporary <code>C2</code> variable appears in the next two lines, which presumably were also rewritten. A good guess is that an older version of the code converted the floating point number <code>C1</code> to an integer inline whenever the integer version was needed, which would have been much uglier and more confusing:
        </p>

        <pre><code>
          1890 X1=C[INT(C1),1]+(C[INT(C1)+1,1]-C[INT(C1),1])*(C1-INT(C1))
          1900 X2=C[INT(C1),2]+(C[INT(C1)+1,2]-C[INT(C1),2])*(C1-INT(C1))
        </code></pre>

        <p>
          It's quite possible that someone, either Mayfield or HP or David Ahl, added the extra line to pull the conversion out and make the next two lines of code (marginally) more clear. There are only a handful of these instances of extra or missing line numbers in the Mayfield code.
        </p>

        <p>
          Getting back to the movement in the game, which those lines of code above are handling, there's an interesting bit to consider here. Navigation, and as it turns out targeting, is done using polar coordinates. However you aren't seeing any trigonometric functions in the BASIC code above. What seems to happen is that the angle is converted into a direction vector using different ratios that approximate trigonometric functions.
        </p>

        <p>
          To perform navigation, you use command <code>0</code>. In ny case, I'm going to move right (angle, or direction, 1) with a distance of 1 warp factor.
        </p>

        <pre><code>
          COMMAND:?0
          COURSE (1-9):?1
          WARP FACTOR (0-8):?1
        </code></pre>

        <p>
          Setting course is an interesting dynamic in the game as it is.
        </p>

        <pre><code>
          1410  PRINT "COURSE (1-9):";
          1420  INPUT C1
          1430  IF C1=0 THEN 1270
          1440  IF C1= 9 THEN 1410
          1450  PRINT "WARP FACTOR (0-8):";
          1460  INPUT W1
          1470  IF W18 THEN 1410
          1480  IF D[1] >= 0 OR W1 <= .2 THEN 1510
          1490  PRINT "WARP ENGINES ARE DAMAGED, MAXIMUM SPEED = WARP .2"
          1500  GOTO 1410
        </code></pre>

        <p>
          Here <code>C1</code> contains the coures setting and <code>W1</code> contains the specified warp factor.
        </p>

        <p>
          Once you enter an area, you automatically get that short range scan displayed as shown above. This is very similar to how later text adventure games would do an automatic “LOOK” command every time you entered a new room. Here's what I get:
        </p>

        <pre><code>
          DAMAGE CONTROL REPORT:DAMAGE CNTRL DAMAGED

          COMBAT AREA      CONDITION RED
             SHIELDS DANGEROUSLY LOW
          ---------------------------------
                                   &lt;*>    
                    *                             STARDATE         3201
                        *  +++      *   *         CONDITION        RED   
                *                                 QUADRANT         4,5
                                                  SECTOR           1,7
                        *                         ENERGY           2797
                                                  PHOTON TORPEDOES 10
                                *                 SHIELDS           200
          ---------------------------------
        </code></pre>

        <p>
          From the previous output, you can see that we've moved from quadrant (4,4) to quadrant (4,5). But why does it say my "DAMGE CNTRL" is damaged? I haven't gotten into combat yet! Well, it turns out the <em>Enterprise</em> can have bits fail on it at random times, definitely giving Chief Engineer Scotty some job security. Also notice that my energy has gone down slightly and my stardate has increased by "one turn." Also I'm being told by shields are dangerously low, suggesting that 200 was perhaps a little too conservative.
        </p>

        <p>
          Let's get a damage report, which is command <code>6</code>.
        </p>

        <pre><code>
          COMMAND:?6
          DAMAGE CONTROL REPORT IS NOT AVAILABLE
        </code></pre>

        <p>
          That's pretty cool and makes sense. My damage control is itself damaged so it can't report on it's own status! Let's talk about the health of our ship here for a second, from a code perspective. This allows us to consider some important Strings.
        </p>

        <pre><code>
          270  DIM C$[6],D$[72],E$[24],A$[3],Q$[72],R$[72],S$[48]
          280  DIM Z$[72]
          ...
          460  D$="WARP ENGINESS.R. SENSORSL.R. SENSORSPHASER CNTRL"
          470  D$[49]="PHOTON TUBESDAMAGE CNTRL"
          480  E$="SHIELD CNTRLCOMPUTER"
          ...
          950  Q$=Z$
          960  R$=Z$
          970  S$=Z$[1,48]
          ...
          3790  IF C$ &lt;> "DOCKED" THEN 3820
          3800  PRINT "STAR BASE SHIELDS PROTECT THE ENTERPRISE"
          3810  RETURN
        </code></pre>

        <p>
          <code>C$</code> is a six character String. This contains the condition of the <em>Enterprise</em>: GREEN, RED, YELLOW, or DOCKED.
        </p>

        <p>
          <code>D$</code> is a seventy-two character String. This contains the first six labels for the Damage Report, essentially a seventy-two character string that's treated as an array of six twelve character strings.
        </p>

        <p>
          <code>E$</code> is a twenty-four character String. This contains two more labels for the Damage Report, essentially a twenty-four character string treated as array of two twelve character strings.
        </p>

        <p>
          <code>A$</code> is a three character String. This provides a symbol definition for Stars ('*'), Klingons ('+++'), or the <em>Enterprise</em> ('&lt;*>').
        </p>

        <p>
          I mentioned <code>Q$</code>, <code>R$</code>, and <code></code>S$</code> above. These are a total of a 192 character String. These provide a buffer used to display current quadrant. Effectively what these provide is 8&times;8 cells where each three character cell contains a copy of <code>A$</code> or empty space.
        </p>

        <p>
          Finally, <code>Z$</code> is a seventy-two character String. This serves as a zeroed String, meaning seventy-twp spaces used to clear <code>Q$</code>, <code>R$</code>, and <code></code>S$</code>.
        </p>

        <p>
          So now consider this bit of code:
        </p>

        <pre><code>
          450  MAT D=ZER
          460  D$="WARP ENGINESS.R. SENSORSL.R. SENSORSPHASER CNTRL"
          470  D$[49]="PHOTON TUBESDAMAGE CNTRL"
          480  E$="SHIELD CNTRLCOMPUTER"
        </code></pre>

        <p>
          Line 450 initializes all of the systems damage to zero using a command that iterates across the element. Lines 460-480 are because HP BASIC didn't support an array of strings so each label can be retrieved as a substring instead. Incidentally, line 450 allows for the ability to operate on all elements of a matrix with a single command. This comes up in a similar context later in the code:
        </p>

        <pre><code>
          910  MAT K=ZER
          920  FOR I=1 TO 3
          930  K[I,3]=0
          940  NEXT I
        </code></pre>
          
        <p> 
          It's equivalent when broken out would be:
        </p>

        <pre><code>
          910  FOR I=0 TO 3:FOR J=0 TO 3:K(I,J)=0:NEXT J:NEXT I
        </code></pre>

        <p>
          If damage occurs, the affected system is deducted a random value between 1 and 5.
        </p>

        <pre><code>
          1680  D[R1]=D[R1]-(RND(1)*5+1)
          1690  PRINT
          1700  PRINT "DAMAGE CONTROL REPORT:";
          1710  GOSUB 5610
          1720  PRINT " DAMAGED"
        </code></pre>

        <p>
          The damaged systems are repaired by 1 unit per turn.
        </p>

        <pre><code>
          1610  FOR I=1 TO 8
          1620  IF D[I] >= 0 THEN 1640
          1630  D[I]=D[I]+1
          1640  NEXT I
        </code></pre>
      </section>

      <section>
        <h3>Combat in the Galaxy</h3>

        <p>
          Klingon ships are represented as '+++' so here we can see our single Klingon in this quadrant. We need to target the Klingon ship in order to destroy it. You use the ship's computer to help target the enemy and you use command <code>7</code> to utilize the ship's computer. There are three options you can use with the computer and the one we want now is command <code>3</code>, which deals with phasers.
        </p>

        <pre><code>
          COMMAND:?6
          DAMAGE CONTROL REPORT IS NOT AVAILABLE
          COMMAND:?3
          PHASERS LOCKED ON TARGET.  ENERGY AVAILABLE= 2797    
          NUMBER OF UNITS TO FIRE:?700
        </code></pre>

        <p>
          So I'm using quite a bit of energy (700) to take the enemy out. And I get:
        </p>

        <pre><code>
            8 UNIT HIT ON ENTERPRISE AT SECTOR 3,5   ( 192 LEFT)
          206 UNIT HIT ON KLINGON AT SECTOR 3,5   ( -6 LEFT)
          KLINGON AT SECTOR 3,5 DESTROYED ****
        </code></pre>

        <p>
          I got him! Of course and my energy dropped correspondingly.
        </p>

        <p>
          It might be easier for you to just watch how someone else did this. Michael Sternberg gave a great rundown of the game and showcased some gameplay for his <a href="https://www.youtube.com/watch?v=DCul7V4Uios">Let's Play STTR1 - Retrochallenge</a>.
        </p>
      </section>
    </article>

    <div class="scrolltop-wrap">
      <a class="nostyle" href="#" role="button" aria-label="Scroll to top">
        <svg height="48" viewBox="0 0 48 48" width="48" height="48px" xmlns="http://www.w3.org/2000/svg">
          <path id="scrolltop-bg" d="M0 0h48v48h-48z"></path>
          <path id="scrolltop-arrow" d="M14.83 30.83l9.17-9.17 9.17 9.17 2.83-2.83-12-12-12 12z"></path>
        </svg>
      </a>
    </div>
  </main>

  <div class="progress-bar"></div>

  <div id="img-modal" class="img-modal">
    <span class="img-modal-close">&times;</span>
    <img id="img-modal-content" class="img-modal-content" src="">
    <div id="img-modal-caption"></div>
  </div>

  <script src="../assets/js/site.js"></script>
  <script src="../assets/js/image-popout.js"></script>
</body>
</html>
